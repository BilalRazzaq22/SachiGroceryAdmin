@model List<GROCERY.Models.COUPON>

@{
    ViewBag.Title = "Coupons";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="~/Scripts/jquery-1.10.2.min.js"></script>


<table class="table table-bordered datatable" id="couponstbl">
    <thead>
        <tr>
            <th>
                Promo
            </th>
            <th>
                Promo Start Date
            </th>
            <th>
                Promo End Date
            </th>
            <th>
                Promo Value
            </th>
            <th>
                Promo Active
            </th>
            <th>
                Promo Used
            </th>
        </tr>
    </thead>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @item.PROMO
            </td>
            <td>
                @item.START_DATE
            </td>
            <td>
                @item.EXPIRY_DATE
            </td>
            <td>
                @item.VALUE
            </td>
            <td>
                @item.IS_ACTIVE
            </td>
            <td>
                @item.IS_USED
            </td>
        </tr>
    }

</table>





<script type="text/javascript">

    $(document).ready(function () {
        loadDT1();
    });


    var responsiveHelper;
    var breakpointDefinition = {
        tablet: 1024,
        phone: 480
    };
    var tableContainer = null;

    function loadDT1() {
        //if (tableContainer != null) {
        //    tableContainer.dataTable().destroy();
        //}
        tableContainer = $("#couponstbl");

        tableContainer.dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[30, 100, 1000, -1], [30, 100, 1000, "All"]],
            "bStateSave": true,
            "sDom": "<'row'<'col-xs-6 col-left'l><'col-xs-6 col-right'<'export-data'T>f>r>t<'row'<'col-xs-6 col-left'i><'col-xs-6 col-right'p>>",
            "oTableTools": {
            },

            // Responsive Settings
            bAutoWidth: false,
            fnPreDrawCallback: function () {
                // Initialize the responsive datatables helper once.
                if (!responsiveHelper) {
                    responsiveHelper = new ResponsiveDatatablesHelper(tableContainer, breakpointDefinition);
                }
            },
            //fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {
            //    responsiveHelper.createExpandIcon(nRow);
            //},
            //fnDrawCallback: function (oSettings) {
            //    responsiveHelper.respond();
            //}
        });
    }


</script>


<!-- Imported styles on this page -->
<link rel="stylesheet" href="~/assets/js/datatables/responsive/css/datatables.responsive.css">
<link rel="stylesheet" href="~/assets/js/select2/select2-bootstrap.css">
<link rel="stylesheet" href="~/assets/js/select2/select2.css">
<!-- Bottom scripts (common) -->
<script src="~/assets/js/jquery.dataTables.min.js"></script>
<script src="~/assets/js/datatables/TableTools.min.js"></script>

<!-- Imported scripts on this page -->
<script src="~/assets/js/dataTables.bootstrap.js"></script>
<script src="~/assets/js/datatables/jquery.dataTables.columnFilter.js"></script>
<script src="~/assets/js/datatables/lodash.min.js"></script>
<script src="~/assets/js/datatables/responsive/js/datatables.responsive.js"></script>